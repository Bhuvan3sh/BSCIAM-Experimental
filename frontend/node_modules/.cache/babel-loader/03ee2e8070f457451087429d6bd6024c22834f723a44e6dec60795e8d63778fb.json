{"ast":null,"code":"import React,{useState,useEffect}from'react';import FileUpload from'./FileUpload';import FileModify from'./FileModify';import FileList from'./FileList';import{PlusIcon}from'@heroicons/react/24/outline';import{toast}from'react-hot-toast';import{useWallet}from'../../context/WalletContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FileManager=_ref=>{let{walletAddress}=_ref;const{getStoredFiles,storeFile,deleteStoredFile,modifyFile}=useWallet();const[files,setFiles]=useState([]);const[isUploading,setIsUploading]=useState(false);const[showUploadModal,setShowUploadModal]=useState(false);const[modifyingFileId,setModifyingFileId]=useState(null);const[isModifying,setIsModifying]=useState(false);// Load user's files on component mount and when wallet address changes\nuseEffect(()=>{const loadFiles=async()=>{try{if(walletAddress){const userFiles=await getStoredFiles();console.log('Loaded user files:',userFiles);setFiles(userFiles);}else{setFiles([]);}}catch(error){console.error('Error loading files:',error);setFiles([]);}};loadFiles();},[walletAddress,getStoredFiles]);const handleFileUpload=async(file,encryptedData,key)=>{console.log('[FileManager] handleFileUpload called with:',{fileName:file===null||file===void 0?void 0:file.name,hasEncryptedData:!!encryptedData,keyLength:key===null||key===void 0?void 0:key.length});if(!walletAddress){const errorMsg='No wallet connected';console.error('[FileManager]',errorMsg);throw new Error(errorMsg);}if(!encryptedData||!encryptedData.encryptedData){const errorMsg='No encrypted data received';console.error('[FileManager]',errorMsg,{encryptedData});throw new Error(errorMsg);}setIsUploading(true);try{console.log('[FileManager] Creating file object...');// Create the file object\nconst newFile={id:crypto.randomUUID(),name:file.name,type:file.type,size:file.size,uploadedAt:new Date().toISOString(),encryptedData:encryptedData.encryptedData,metadata:{name:file.name,originalName:file.name,type:file.type,mimeType:file.type,size:file.size,lastModified:file.lastModified}};console.log('[FileManager] New file object created:',{id:newFile.id,name:newFile.name,size:newFile.size,hasEncryptedData:!!newFile.encryptedData});// Store the file using the wallet context (uploads to server)\nconsole.log('[FileManager] Storing file...');const updatedFiles=await storeFile(newFile);console.log('[FileManager] File stored. Updated files count:',updatedFiles.length);// Update local state\nsetFiles(updatedFiles);// Close the upload modal\nsetShowUploadModal(false);toast.success('File uploaded successfully!');console.log('[FileManager] Upload completed successfully');return newFile;}catch(error){console.error('File upload failed:',error);throw error;}finally{setIsUploading(false);}};const handleDeleteFile=async fileId=>{if(!walletAddress)return;if(!window.confirm('Are you sure you want to delete this file? This action cannot be undone.')){return;}try{// Delete the file using the wallet context (from server)\nawait deleteStoredFile(fileId);// Refresh files from server\nconst updatedFiles=await getStoredFiles();setFiles(updatedFiles);}catch(error){console.error('Failed to delete file:',error);toast.error('Failed to delete file. Please try again.');}};const handleModifyFile=async(file,encryptedData,key)=>{console.log('[FileManager] handleModifyFile called with:',{fileName:file===null||file===void 0?void 0:file.name,hasEncryptedData:!!encryptedData,keyLength:key===null||key===void 0?void 0:key.length,fileId:modifyingFileId});if(!walletAddress){const errorMsg='No wallet connected';console.error('[FileManager]',errorMsg);throw new Error(errorMsg);}if(!modifyingFileId){const errorMsg='No file selected for modification';console.error('[FileManager]',errorMsg);throw new Error(errorMsg);}if(!encryptedData||!encryptedData.encryptedData){const errorMsg='No encrypted data received';console.error('[FileManager]',errorMsg,{encryptedData});throw new Error(errorMsg);}setIsModifying(true);try{console.log('[FileManager] Modifying file...');// Modify the file using the wallet context (updates on server)\nconst updatedFile=await modifyFile(modifyingFileId,file,encryptedData,key);console.log('[FileManager] File modified. Updated file:',updatedFile);// Refresh files from server\nconst updatedFiles=await getStoredFiles();setFiles(updatedFiles);// Close the modify modal\nsetModifyingFileId(null);toast.success('File modified successfully!');console.log('[FileManager] Modification completed successfully');return updatedFile;}catch(error){console.error('File modification failed:',error);throw error;}finally{setIsModifying(false);}};const handleModifyClick=fileId=>{setModifyingFileId(fileId);};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center fade-in\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-white\",children:\"My Files\"}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>setShowUploadModal(true),className:\"btn-primary glow\",children:[/*#__PURE__*/_jsx(PlusIcon,{className:\"-ml-1 mr-2 h-5 w-5\"}),\"Upload File\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card glass card-hover\",children:/*#__PURE__*/_jsx(FileList,{files:files,onDelete:handleDeleteFile,onModify:handleModifyClick})}),showUploadModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed z-10 inset-0 overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 transition-opacity\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-black opacity-75\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"hidden sm:inline-block sm:align-middle sm:h-screen\",\"aria-hidden\":\"true\",children:\"\\u200B\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"inline-block align-bottom bg-dark-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full border border-dark-700 glass\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-dark-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"sm:flex sm:items-start\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg leading-6 font-medium text-white mb-4\",children:\"Upload File\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",children:/*#__PURE__*/_jsx(FileUpload,{onUpload:handleFileUpload,isUploading:isUploading})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-dark-700 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowUploadModal(false),className:\"btn-secondary\",disabled:isUploading,children:\"Close\"})})]})]})}),modifyingFileId&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed z-10 inset-0 overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 transition-opacity\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-black opacity-75\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"hidden sm:inline-block sm:align-middle sm:h-screen\",\"aria-hidden\":\"true\",children:\"\\u200B\"}),/*#__PURE__*/_jsx(\"div\",{className:\"inline-block align-bottom bg-dark-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full border border-dark-700 glass\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-dark-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"sm:flex sm:items-start\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",children:/*#__PURE__*/_jsx(FileModify,{file:files.find(f=>f.id===modifyingFileId),onModify:handleModifyFile,onCancel:()=>setModifyingFileId(null),isModifying:isModifying})})})})})})]})})]});};export default FileManager;","map":{"version":3,"names":["React","useState","useEffect","FileUpload","FileModify","FileList","PlusIcon","toast","useWallet","jsx","_jsx","jsxs","_jsxs","FileManager","_ref","walletAddress","getStoredFiles","storeFile","deleteStoredFile","modifyFile","files","setFiles","isUploading","setIsUploading","showUploadModal","setShowUploadModal","modifyingFileId","setModifyingFileId","isModifying","setIsModifying","loadFiles","userFiles","console","log","error","handleFileUpload","file","encryptedData","key","fileName","name","hasEncryptedData","keyLength","length","errorMsg","Error","newFile","id","crypto","randomUUID","type","size","uploadedAt","Date","toISOString","metadata","originalName","mimeType","lastModified","updatedFiles","success","handleDeleteFile","fileId","window","confirm","handleModifyFile","updatedFile","handleModifyClick","className","children","onClick","onDelete","onModify","onUpload","disabled","find","f","onCancel"],"sources":["F:/Final Year Project/Project Implementation/BSCIAM-Experimental/frontend/src/components/files/FileManager.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport FileUpload from './FileUpload';\nimport FileModify from './FileModify';\nimport FileList from './FileList';\nimport { StoredFile } from '../../types';\nimport { PlusIcon } from '@heroicons/react/24/outline';\nimport { toast } from 'react-hot-toast';\nimport { useWallet } from '../../context/WalletContext';\n\ninterface FileManagerProps {\n  walletAddress: string;\n}\n\nconst FileManager: React.FC<FileManagerProps> = ({ walletAddress }) => {\n  const { getStoredFiles, storeFile, deleteStoredFile, modifyFile } = useWallet();\n  const [files, setFiles] = useState<StoredFile[]>([]);\n  const [isUploading, setIsUploading] = useState(false);\n  const [showUploadModal, setShowUploadModal] = useState(false);\n  const [modifyingFileId, setModifyingFileId] = useState<string | null>(null);\n  const [isModifying, setIsModifying] = useState(false);\n\n  // Load user's files on component mount and when wallet address changes\n  useEffect(() => {\n    const loadFiles = async () => {\n      try {\n        if (walletAddress) {\n          const userFiles = await getStoredFiles();\n          console.log('Loaded user files:', userFiles);\n          setFiles(userFiles);\n        } else {\n          setFiles([]);\n        }\n      } catch (error) {\n        console.error('Error loading files:', error);\n        setFiles([]);\n      }\n    };\n\n    loadFiles();\n  }, [walletAddress, getStoredFiles]);\n\n  const handleFileUpload = async (file: File, encryptedData: any, key: string): Promise<StoredFile | void> => {\n    console.log('[FileManager] handleFileUpload called with:', { \n      fileName: file?.name, \n      hasEncryptedData: !!encryptedData,\n      keyLength: key?.length\n    });\n\n    if (!walletAddress) {\n      const errorMsg = 'No wallet connected';\n      console.error('[FileManager]', errorMsg);\n      throw new Error(errorMsg);\n    }\n    \n    if (!encryptedData || !encryptedData.encryptedData) {\n      const errorMsg = 'No encrypted data received';\n      console.error('[FileManager]', errorMsg, { encryptedData });\n      throw new Error(errorMsg);\n    }\n    \n    setIsUploading(true);\n    \n    try {\n      console.log('[FileManager] Creating file object...');\n      // Create the file object\n      const newFile: StoredFile = {\n        id: crypto.randomUUID(),\n        name: file.name,\n        type: file.type,\n        size: file.size,\n        uploadedAt: new Date().toISOString(),\n        encryptedData: encryptedData.encryptedData,\n        metadata: {\n          name: file.name,\n          originalName: file.name,\n          type: file.type,\n          mimeType: file.type,\n          size: file.size,\n          lastModified: file.lastModified\n        }\n      };\n      \n      console.log('[FileManager] New file object created:', { \n        id: newFile.id,\n        name: newFile.name,\n        size: newFile.size,\n        hasEncryptedData: !!newFile.encryptedData\n      });\n      \n      // Store the file using the wallet context (uploads to server)\n      console.log('[FileManager] Storing file...');\n      const updatedFiles = await storeFile(newFile);\n      console.log('[FileManager] File stored. Updated files count:', updatedFiles.length);\n      \n      // Update local state\n      setFiles(updatedFiles);\n      \n      // Close the upload modal\n      setShowUploadModal(false);\n      \n      toast.success('File uploaded successfully!');\n      console.log('[FileManager] Upload completed successfully');\n      return newFile;\n    } catch (error) {\n      console.error('File upload failed:', error);\n      throw error;\n    } finally {\n      setIsUploading(false);\n    }\n  };\n\n  const handleDeleteFile = async (fileId: string) => {\n    if (!walletAddress) return;\n    \n    if (!window.confirm('Are you sure you want to delete this file? This action cannot be undone.')) {\n      return;\n    }\n    \n    try {\n      // Delete the file using the wallet context (from server)\n      await deleteStoredFile(fileId);\n      \n      // Refresh files from server\n      const updatedFiles = await getStoredFiles();\n      setFiles(updatedFiles);\n      \n    } catch (error) {\n      console.error('Failed to delete file:', error);\n      toast.error('Failed to delete file. Please try again.');\n    }\n  };\n\n  const handleModifyFile = async (file: File, encryptedData: any, key: string): Promise<StoredFile | void> => {\n    console.log('[FileManager] handleModifyFile called with:', { \n      fileName: file?.name, \n      hasEncryptedData: !!encryptedData,\n      keyLength: key?.length,\n      fileId: modifyingFileId\n    });\n\n    if (!walletAddress) {\n      const errorMsg = 'No wallet connected';\n      console.error('[FileManager]', errorMsg);\n      throw new Error(errorMsg);\n    }\n    \n    if (!modifyingFileId) {\n      const errorMsg = 'No file selected for modification';\n      console.error('[FileManager]', errorMsg);\n      throw new Error(errorMsg);\n    }\n    \n    if (!encryptedData || !encryptedData.encryptedData) {\n      const errorMsg = 'No encrypted data received';\n      console.error('[FileManager]', errorMsg, { encryptedData });\n      throw new Error(errorMsg);\n    }\n    \n    setIsModifying(true);\n    \n    try {\n      console.log('[FileManager] Modifying file...');\n      // Modify the file using the wallet context (updates on server)\n      const updatedFile = await modifyFile(modifyingFileId, file, encryptedData, key);\n      console.log('[FileManager] File modified. Updated file:', updatedFile);\n      \n      // Refresh files from server\n      const updatedFiles = await getStoredFiles();\n      setFiles(updatedFiles);\n      \n      // Close the modify modal\n      setModifyingFileId(null);\n      \n      toast.success('File modified successfully!');\n      console.log('[FileManager] Modification completed successfully');\n      return updatedFile;\n    } catch (error) {\n      console.error('File modification failed:', error);\n      throw error;\n    } finally {\n      setIsModifying(false);\n    }\n  };\n\n  const handleModifyClick = (fileId: string) => {\n    setModifyingFileId(fileId);\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-between items-center fade-in\">\n        <h2 className=\"text-2xl font-bold text-white\">My Files</h2>\n        <button\n          type=\"button\"\n          onClick={() => setShowUploadModal(true)}\n          className=\"btn-primary glow\"\n        >\n          <PlusIcon className=\"-ml-1 mr-2 h-5 w-5\" />\n          Upload File\n        </button>\n      </div>\n\n      <div className=\"card glass card-hover\">\n        <FileList \n          files={files} \n          onDelete={handleDeleteFile}\n          onModify={handleModifyClick}\n        />\n      </div>\n\n      {/* Upload Modal */}\n      {showUploadModal && (\n        <div className=\"fixed z-10 inset-0 overflow-y-auto\">\n          <div className=\"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\n            <div className=\"fixed inset-0 transition-opacity\" aria-hidden=\"true\">\n              <div className=\"absolute inset-0 bg-black opacity-75\"></div>\n            </div>\n\n            <span className=\"hidden sm:inline-block sm:align-middle sm:h-screen\" aria-hidden=\"true\">\n              &#8203;\n            </span>\n\n            <div className=\"inline-block align-bottom bg-dark-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full border border-dark-700 glass\">\n              <div className=\"bg-dark-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4\">\n                <div className=\"sm:flex sm:items-start\">\n                  <div className=\"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full\">\n                    <h3 className=\"text-lg leading-6 font-medium text-white mb-4\">\n                      Upload File\n                    </h3>\n                    <div className=\"mt-2\">\n                      <FileUpload \n                        onUpload={handleFileUpload} \n                        isUploading={isUploading} \n                      />\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div className=\"bg-dark-700 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse\">\n                <button\n                  type=\"button\"\n                  onClick={() => setShowUploadModal(false)}\n                  className=\"btn-secondary\"\n                  disabled={isUploading}\n                >\n                  Close\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Modify Modal */}\n      {modifyingFileId && (\n        <div className=\"fixed z-10 inset-0 overflow-y-auto\">\n          <div className=\"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\n            <div className=\"fixed inset-0 transition-opacity\" aria-hidden=\"true\">\n              <div className=\"absolute inset-0 bg-black opacity-75\"></div>\n            </div>\n\n            <span className=\"hidden sm:inline-block sm:align-middle sm:h-screen\" aria-hidden=\"true\">\n              &#8203;\n            </span>\n\n            <div className=\"inline-block align-bottom bg-dark-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full border border-dark-700 glass\">\n              <div className=\"bg-dark-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4\">\n                <div className=\"sm:flex sm:items-start\">\n                  <div className=\"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full\">\n                    <div className=\"mt-2\">\n                      <FileModify \n                        file={files.find(f => f.id === modifyingFileId)!}\n                        onModify={handleModifyFile} \n                        onCancel={() => setModifyingFileId(null)}\n                        isModifying={isModifying} \n                      />\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default FileManager;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,UAAU,KAAM,cAAc,CACrC,MAAO,CAAAC,UAAU,KAAM,cAAc,CACrC,MAAO,CAAAC,QAAQ,KAAM,YAAY,CAEjC,OAASC,QAAQ,KAAQ,6BAA6B,CACtD,OAASC,KAAK,KAAQ,iBAAiB,CACvC,OAASC,SAAS,KAAQ,6BAA6B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAMxD,KAAM,CAAAC,WAAuC,CAAGC,IAAA,EAAuB,IAAtB,CAAEC,aAAc,CAAC,CAAAD,IAAA,CAChE,KAAM,CAAEE,cAAc,CAAEC,SAAS,CAAEC,gBAAgB,CAAEC,UAAW,CAAC,CAAGX,SAAS,CAAC,CAAC,CAC/E,KAAM,CAACY,KAAK,CAAEC,QAAQ,CAAC,CAAGpB,QAAQ,CAAe,EAAE,CAAC,CACpD,KAAM,CAACqB,WAAW,CAAEC,cAAc,CAAC,CAAGtB,QAAQ,CAAC,KAAK,CAAC,CACrD,KAAM,CAACuB,eAAe,CAAEC,kBAAkB,CAAC,CAAGxB,QAAQ,CAAC,KAAK,CAAC,CAC7D,KAAM,CAACyB,eAAe,CAAEC,kBAAkB,CAAC,CAAG1B,QAAQ,CAAgB,IAAI,CAAC,CAC3E,KAAM,CAAC2B,WAAW,CAAEC,cAAc,CAAC,CAAG5B,QAAQ,CAAC,KAAK,CAAC,CAErD;AACAC,SAAS,CAAC,IAAM,CACd,KAAM,CAAA4B,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CACF,GAAIf,aAAa,CAAE,CACjB,KAAM,CAAAgB,SAAS,CAAG,KAAM,CAAAf,cAAc,CAAC,CAAC,CACxCgB,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAEF,SAAS,CAAC,CAC5CV,QAAQ,CAACU,SAAS,CAAC,CACrB,CAAC,IAAM,CACLV,QAAQ,CAAC,EAAE,CAAC,CACd,CACF,CAAE,MAAOa,KAAK,CAAE,CACdF,OAAO,CAACE,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC5Cb,QAAQ,CAAC,EAAE,CAAC,CACd,CACF,CAAC,CAEDS,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,CAACf,aAAa,CAAEC,cAAc,CAAC,CAAC,CAEnC,KAAM,CAAAmB,gBAAgB,CAAG,KAAAA,CAAOC,IAAU,CAAEC,aAAkB,CAAEC,GAAW,GAAiC,CAC1GN,OAAO,CAACC,GAAG,CAAC,6CAA6C,CAAE,CACzDM,QAAQ,CAAEH,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEI,IAAI,CACpBC,gBAAgB,CAAE,CAAC,CAACJ,aAAa,CACjCK,SAAS,CAAEJ,GAAG,SAAHA,GAAG,iBAAHA,GAAG,CAAEK,MAClB,CAAC,CAAC,CAEF,GAAI,CAAC5B,aAAa,CAAE,CAClB,KAAM,CAAA6B,QAAQ,CAAG,qBAAqB,CACtCZ,OAAO,CAACE,KAAK,CAAC,eAAe,CAAEU,QAAQ,CAAC,CACxC,KAAM,IAAI,CAAAC,KAAK,CAACD,QAAQ,CAAC,CAC3B,CAEA,GAAI,CAACP,aAAa,EAAI,CAACA,aAAa,CAACA,aAAa,CAAE,CAClD,KAAM,CAAAO,QAAQ,CAAG,4BAA4B,CAC7CZ,OAAO,CAACE,KAAK,CAAC,eAAe,CAAEU,QAAQ,CAAE,CAAEP,aAAc,CAAC,CAAC,CAC3D,KAAM,IAAI,CAAAQ,KAAK,CAACD,QAAQ,CAAC,CAC3B,CAEArB,cAAc,CAAC,IAAI,CAAC,CAEpB,GAAI,CACFS,OAAO,CAACC,GAAG,CAAC,uCAAuC,CAAC,CACpD;AACA,KAAM,CAAAa,OAAmB,CAAG,CAC1BC,EAAE,CAAEC,MAAM,CAACC,UAAU,CAAC,CAAC,CACvBT,IAAI,CAAEJ,IAAI,CAACI,IAAI,CACfU,IAAI,CAAEd,IAAI,CAACc,IAAI,CACfC,IAAI,CAAEf,IAAI,CAACe,IAAI,CACfC,UAAU,CAAE,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CACpCjB,aAAa,CAAEA,aAAa,CAACA,aAAa,CAC1CkB,QAAQ,CAAE,CACRf,IAAI,CAAEJ,IAAI,CAACI,IAAI,CACfgB,YAAY,CAAEpB,IAAI,CAACI,IAAI,CACvBU,IAAI,CAAEd,IAAI,CAACc,IAAI,CACfO,QAAQ,CAAErB,IAAI,CAACc,IAAI,CACnBC,IAAI,CAAEf,IAAI,CAACe,IAAI,CACfO,YAAY,CAAEtB,IAAI,CAACsB,YACrB,CACF,CAAC,CAED1B,OAAO,CAACC,GAAG,CAAC,wCAAwC,CAAE,CACpDc,EAAE,CAAED,OAAO,CAACC,EAAE,CACdP,IAAI,CAAEM,OAAO,CAACN,IAAI,CAClBW,IAAI,CAAEL,OAAO,CAACK,IAAI,CAClBV,gBAAgB,CAAE,CAAC,CAACK,OAAO,CAACT,aAC9B,CAAC,CAAC,CAEF;AACAL,OAAO,CAACC,GAAG,CAAC,+BAA+B,CAAC,CAC5C,KAAM,CAAA0B,YAAY,CAAG,KAAM,CAAA1C,SAAS,CAAC6B,OAAO,CAAC,CAC7Cd,OAAO,CAACC,GAAG,CAAC,iDAAiD,CAAE0B,YAAY,CAAChB,MAAM,CAAC,CAEnF;AACAtB,QAAQ,CAACsC,YAAY,CAAC,CAEtB;AACAlC,kBAAkB,CAAC,KAAK,CAAC,CAEzBlB,KAAK,CAACqD,OAAO,CAAC,6BAA6B,CAAC,CAC5C5B,OAAO,CAACC,GAAG,CAAC,6CAA6C,CAAC,CAC1D,MAAO,CAAAa,OAAO,CAChB,CAAE,MAAOZ,KAAK,CAAE,CACdF,OAAO,CAACE,KAAK,CAAC,qBAAqB,CAAEA,KAAK,CAAC,CAC3C,KAAM,CAAAA,KAAK,CACb,CAAC,OAAS,CACRX,cAAc,CAAC,KAAK,CAAC,CACvB,CACF,CAAC,CAED,KAAM,CAAAsC,gBAAgB,CAAG,KAAO,CAAAC,MAAc,EAAK,CACjD,GAAI,CAAC/C,aAAa,CAAE,OAEpB,GAAI,CAACgD,MAAM,CAACC,OAAO,CAAC,0EAA0E,CAAC,CAAE,CAC/F,OACF,CAEA,GAAI,CACF;AACA,KAAM,CAAA9C,gBAAgB,CAAC4C,MAAM,CAAC,CAE9B;AACA,KAAM,CAAAH,YAAY,CAAG,KAAM,CAAA3C,cAAc,CAAC,CAAC,CAC3CK,QAAQ,CAACsC,YAAY,CAAC,CAExB,CAAE,MAAOzB,KAAK,CAAE,CACdF,OAAO,CAACE,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAC9C3B,KAAK,CAAC2B,KAAK,CAAC,0CAA0C,CAAC,CACzD,CACF,CAAC,CAED,KAAM,CAAA+B,gBAAgB,CAAG,KAAAA,CAAO7B,IAAU,CAAEC,aAAkB,CAAEC,GAAW,GAAiC,CAC1GN,OAAO,CAACC,GAAG,CAAC,6CAA6C,CAAE,CACzDM,QAAQ,CAAEH,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEI,IAAI,CACpBC,gBAAgB,CAAE,CAAC,CAACJ,aAAa,CACjCK,SAAS,CAAEJ,GAAG,SAAHA,GAAG,iBAAHA,GAAG,CAAEK,MAAM,CACtBmB,MAAM,CAAEpC,eACV,CAAC,CAAC,CAEF,GAAI,CAACX,aAAa,CAAE,CAClB,KAAM,CAAA6B,QAAQ,CAAG,qBAAqB,CACtCZ,OAAO,CAACE,KAAK,CAAC,eAAe,CAAEU,QAAQ,CAAC,CACxC,KAAM,IAAI,CAAAC,KAAK,CAACD,QAAQ,CAAC,CAC3B,CAEA,GAAI,CAAClB,eAAe,CAAE,CACpB,KAAM,CAAAkB,QAAQ,CAAG,mCAAmC,CACpDZ,OAAO,CAACE,KAAK,CAAC,eAAe,CAAEU,QAAQ,CAAC,CACxC,KAAM,IAAI,CAAAC,KAAK,CAACD,QAAQ,CAAC,CAC3B,CAEA,GAAI,CAACP,aAAa,EAAI,CAACA,aAAa,CAACA,aAAa,CAAE,CAClD,KAAM,CAAAO,QAAQ,CAAG,4BAA4B,CAC7CZ,OAAO,CAACE,KAAK,CAAC,eAAe,CAAEU,QAAQ,CAAE,CAAEP,aAAc,CAAC,CAAC,CAC3D,KAAM,IAAI,CAAAQ,KAAK,CAACD,QAAQ,CAAC,CAC3B,CAEAf,cAAc,CAAC,IAAI,CAAC,CAEpB,GAAI,CACFG,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAC,CAC9C;AACA,KAAM,CAAAiC,WAAW,CAAG,KAAM,CAAA/C,UAAU,CAACO,eAAe,CAAEU,IAAI,CAAEC,aAAa,CAAEC,GAAG,CAAC,CAC/EN,OAAO,CAACC,GAAG,CAAC,4CAA4C,CAAEiC,WAAW,CAAC,CAEtE;AACA,KAAM,CAAAP,YAAY,CAAG,KAAM,CAAA3C,cAAc,CAAC,CAAC,CAC3CK,QAAQ,CAACsC,YAAY,CAAC,CAEtB;AACAhC,kBAAkB,CAAC,IAAI,CAAC,CAExBpB,KAAK,CAACqD,OAAO,CAAC,6BAA6B,CAAC,CAC5C5B,OAAO,CAACC,GAAG,CAAC,mDAAmD,CAAC,CAChE,MAAO,CAAAiC,WAAW,CACpB,CAAE,MAAOhC,KAAK,CAAE,CACdF,OAAO,CAACE,KAAK,CAAC,2BAA2B,CAAEA,KAAK,CAAC,CACjD,KAAM,CAAAA,KAAK,CACb,CAAC,OAAS,CACRL,cAAc,CAAC,KAAK,CAAC,CACvB,CACF,CAAC,CAED,KAAM,CAAAsC,iBAAiB,CAAIL,MAAc,EAAK,CAC5CnC,kBAAkB,CAACmC,MAAM,CAAC,CAC5B,CAAC,CAED,mBACElD,KAAA,QAAKwD,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBzD,KAAA,QAAKwD,SAAS,CAAC,2CAA2C,CAAAC,QAAA,eACxD3D,IAAA,OAAI0D,SAAS,CAAC,+BAA+B,CAAAC,QAAA,CAAC,UAAQ,CAAI,CAAC,cAC3DzD,KAAA,WACEsC,IAAI,CAAC,QAAQ,CACboB,OAAO,CAAEA,CAAA,GAAM7C,kBAAkB,CAAC,IAAI,CAAE,CACxC2C,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAE5B3D,IAAA,CAACJ,QAAQ,EAAC8D,SAAS,CAAC,oBAAoB,CAAE,CAAC,cAE7C,EAAQ,CAAC,EACN,CAAC,cAEN1D,IAAA,QAAK0D,SAAS,CAAC,uBAAuB,CAAAC,QAAA,cACpC3D,IAAA,CAACL,QAAQ,EACPe,KAAK,CAAEA,KAAM,CACbmD,QAAQ,CAAEV,gBAAiB,CAC3BW,QAAQ,CAAEL,iBAAkB,CAC7B,CAAC,CACC,CAAC,CAGL3C,eAAe,eACdd,IAAA,QAAK0D,SAAS,CAAC,oCAAoC,CAAAC,QAAA,cACjDzD,KAAA,QAAKwD,SAAS,CAAC,2FAA2F,CAAAC,QAAA,eACxG3D,IAAA,QAAK0D,SAAS,CAAC,kCAAkC,CAAC,cAAY,MAAM,CAAAC,QAAA,cAClE3D,IAAA,QAAK0D,SAAS,CAAC,sCAAsC,CAAM,CAAC,CACzD,CAAC,cAEN1D,IAAA,SAAM0D,SAAS,CAAC,oDAAoD,CAAC,cAAY,MAAM,CAAAC,QAAA,CAAC,QAExF,CAAM,CAAC,cAEPzD,KAAA,QAAKwD,SAAS,CAAC,0LAA0L,CAAAC,QAAA,eACvM3D,IAAA,QAAK0D,SAAS,CAAC,2CAA2C,CAAAC,QAAA,cACxD3D,IAAA,QAAK0D,SAAS,CAAC,wBAAwB,CAAAC,QAAA,cACrCzD,KAAA,QAAKwD,SAAS,CAAC,sDAAsD,CAAAC,QAAA,eACnE3D,IAAA,OAAI0D,SAAS,CAAC,+CAA+C,CAAAC,QAAA,CAAC,aAE9D,CAAI,CAAC,cACL3D,IAAA,QAAK0D,SAAS,CAAC,MAAM,CAAAC,QAAA,cACnB3D,IAAA,CAACP,UAAU,EACTsE,QAAQ,CAAEtC,gBAAiB,CAC3Bb,WAAW,CAAEA,WAAY,CAC1B,CAAC,CACC,CAAC,EACH,CAAC,CACH,CAAC,CACH,CAAC,cACNZ,IAAA,QAAK0D,SAAS,CAAC,2DAA2D,CAAAC,QAAA,cACxE3D,IAAA,WACEwC,IAAI,CAAC,QAAQ,CACboB,OAAO,CAAEA,CAAA,GAAM7C,kBAAkB,CAAC,KAAK,CAAE,CACzC2C,SAAS,CAAC,eAAe,CACzBM,QAAQ,CAAEpD,WAAY,CAAA+C,QAAA,CACvB,OAED,CAAQ,CAAC,CACN,CAAC,EACH,CAAC,EACH,CAAC,CACH,CACN,CAGA3C,eAAe,eACdhB,IAAA,QAAK0D,SAAS,CAAC,oCAAoC,CAAAC,QAAA,cACjDzD,KAAA,QAAKwD,SAAS,CAAC,2FAA2F,CAAAC,QAAA,eACxG3D,IAAA,QAAK0D,SAAS,CAAC,kCAAkC,CAAC,cAAY,MAAM,CAAAC,QAAA,cAClE3D,IAAA,QAAK0D,SAAS,CAAC,sCAAsC,CAAM,CAAC,CACzD,CAAC,cAEN1D,IAAA,SAAM0D,SAAS,CAAC,oDAAoD,CAAC,cAAY,MAAM,CAAAC,QAAA,CAAC,QAExF,CAAM,CAAC,cAEP3D,IAAA,QAAK0D,SAAS,CAAC,0LAA0L,CAAAC,QAAA,cACvM3D,IAAA,QAAK0D,SAAS,CAAC,2CAA2C,CAAAC,QAAA,cACxD3D,IAAA,QAAK0D,SAAS,CAAC,wBAAwB,CAAAC,QAAA,cACrC3D,IAAA,QAAK0D,SAAS,CAAC,sDAAsD,CAAAC,QAAA,cACnE3D,IAAA,QAAK0D,SAAS,CAAC,MAAM,CAAAC,QAAA,cACnB3D,IAAA,CAACN,UAAU,EACTgC,IAAI,CAAEhB,KAAK,CAACuD,IAAI,CAACC,CAAC,EAAIA,CAAC,CAAC7B,EAAE,GAAKrB,eAAe,CAAG,CACjD8C,QAAQ,CAAEP,gBAAiB,CAC3BY,QAAQ,CAAEA,CAAA,GAAMlD,kBAAkB,CAAC,IAAI,CAAE,CACzCC,WAAW,CAAEA,WAAY,CAC1B,CAAC,CACC,CAAC,CACH,CAAC,CACH,CAAC,CACH,CAAC,CACH,CAAC,EACH,CAAC,CACH,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAf,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}